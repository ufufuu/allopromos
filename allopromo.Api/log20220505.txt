2022-05-05 17:12:39.170 -04:00 [INF] User profile is available. Using 'C:\Users\MonPC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-05-05 17:12:49.864 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-05-05 17:12:49.866 -04:00 [INF] Hosting environment: Development
2022-05-05 17:12:49.867 -04:00 [INF] Content root path: C:\Users\MonPC\source\repos\allopromo\allopromo.Api
2022-05-05 17:12:49.858 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44367/api/default  
2022-05-05 17:12:51.401 -04:00 [INF] Executing endpoint 'Fallback {*path:nonfile}'
2022-05-05 17:12:51.556 -04:00 [INF] Executed endpoint 'Fallback {*path:nonfile}'
2022-05-05 17:12:51.666 -04:00 [INF] Request finished in 1826.0133ms 404 
2022-05-05 17:13:18.507 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44367/api/store/create application/json 170
2022-05-05 17:13:18.924 -04:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token: hsdsjhdsjdh
2022-05-05 17:13:18.927 -04:00 [INF] Executing endpoint 'allopromo.Controllers.StoreController.CreateStoreAsync (allopromo.Api)'
2022-05-05 17:13:19.400 -04:00 [INF] Route matched with {action = "CreateStore", controller = "Store"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateStoreAsync(allopromo.Core.Application.Dto.StoreDto) on controller allopromo.Controllers.StoreController (allopromo.Api).
2022-05-05 17:13:19.462 -04:00 [INF] Authorization failed for the request at filter 'allopromo.Core.Helpers.BasicJwtAuthorizeAttribute'.
2022-05-05 17:13:19.549 -04:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2022-05-05 17:13:21.644 -04:00 [INF] Executed action allopromo.Controllers.StoreController.CreateStoreAsync (allopromo.Api) in 2195.8599ms
2022-05-05 17:13:21.659 -04:00 [INF] Executed endpoint 'allopromo.Controllers.StoreController.CreateStoreAsync (allopromo.Api)'
2022-05-05 17:13:21.661 -04:00 [INF] Request finished in 3173.1028ms 200 application/json; charset=utf-8
2022-05-05 17:15:19.874 -04:00 [INF] User profile is available. Using 'C:\Users\MonPC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-05-05 17:15:25.316 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-05-05 17:15:25.322 -04:00 [INF] Hosting environment: Development
2022-05-05 17:15:25.323 -04:00 [INF] Content root path: C:\Users\MonPC\source\repos\allopromo\allopromo.Api
2022-05-05 17:15:25.355 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44367/api/store/create application/json 170
2022-05-05 17:15:25.353 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44367/api/default  
2022-05-05 17:15:26.289 -04:00 [INF] Executing endpoint 'Fallback {*path:nonfile}'
2022-05-05 17:15:26.425 -04:00 [INF] Executed endpoint 'Fallback {*path:nonfile}'
2022-05-05 17:15:26.543 -04:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token: hsdsjhdsjdh
2022-05-05 17:15:26.544 -04:00 [INF] Executing endpoint 'allopromo.Controllers.StoreController.CreateStoreAsync (allopromo.Api)'
2022-05-05 17:15:26.599 -04:00 [INF] Request finished in 1260.7414ms 404 
2022-05-05 17:15:26.918 -04:00 [INF] Route matched with {action = "CreateStore", controller = "Store"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateStoreAsync(allopromo.Core.Application.Dto.StoreDto) on controller allopromo.Controllers.StoreController (allopromo.Api).
2022-05-05 17:15:30.519 -04:00 [INF] Executed action allopromo.Controllers.StoreController.CreateStoreAsync (allopromo.Api) in 3574.061ms
2022-05-05 17:15:30.639 -04:00 [INF] Executed endpoint 'allopromo.Controllers.StoreController.CreateStoreAsync (allopromo.Api)'
2022-05-05 17:15:31.066 -04:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperConfigurationException: 
Unmapped members were found. Review the types and members below.
Add a custom mapping expression, ignore, add a custom resolver, or modify the source/destination type
For no matching constructor, add a no-arg ctor, add optional arguments, or map all of the constructor parameters
================================================================================
UserDto -> ApplicationUser (Destination member list)
allopromo.Core.Application.Dto.UserDto -> allopromo.Core.Domain.ApplicationUser (Destination member list)

Unmapped properties:
UserRoles
Id
NormalizedUserName
Email
NormalizedEmail
EmailConfirmed
PasswordHash
SecurityStamp
ConcurrencyStamp
PhoneNumber
PhoneNumberConfirmed
TwoFactorEnabled
LockoutEnd
LockoutEnabled
AccessFailedCount

   at lambda_method(Closure , UserDto , ApplicationUser , ResolutionContext )
   at lambda_method(Closure , Object , Object , ResolutionContext )
   at allopromo.Core.Model.StoreService.CreateStore(StoreDto storeDto, StoreCategoryDto category, UserDto user) in C:\Users\MonPC\source\repos\allopromo\allopromo.Core\Services\StoreService.cs:line 61
   at allopromo.Controllers.StoreController.CreateStoreAsync(StoreDto storeDto) in C:\Users\MonPC\source\repos\allopromo\allopromo.Api\Controllers\StoreController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|8_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-05-05 17:15:32.205 -04:00 [INF] Request finished in 6884.5222ms 500 text/plain
2022-05-05 17:21:53.486 -04:00 [INF] User profile is available. Using 'C:\Users\MonPC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-05-05 17:21:57.215 -04:00 [FTL] Application startup exception
System.InvalidOperationException: Mapper already initialized. You must call Initialize once per application domain/process.
   at AutoMapper.Mapper.set_Configuration(IConfigurationProvider value)
   at AutoMapper.Mapper.Initialize(Action`1 config)
   at allopromo.Api.AutoMapperConfiguration.Initialize() in C:\Users\MonPC\source\repos\allopromo\allopromo.Api\AutoMapperConfiguration.cs:line 21
   at allopromo.Startup.Configure(IApplicationBuilder app, IHostingEnvironment env) in C:\Users\MonPC\source\repos\allopromo\allopromo.Api\Startup.cs:line 218
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Object[] arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.Invoke(Object instance, IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.ConfigureBuilder.<>c__DisplayClass4_0.<Build>b__0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Hosting.GenericWebHostBuilder.<>c__DisplayClass13_0.<UseStartup>b__2(IApplicationBuilder app)
   at Microsoft.AspNetCore.Mvc.Filters.MiddlewareFilterBuilderStartupFilter.<>c__DisplayClass0_0.<Configure>g__MiddlewareFilterBuilder|0(IApplicationBuilder builder)
   at Microsoft.AspNetCore.Server.IIS.Core.IISServerSetupFilter.<>c__DisplayClass2_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.HostFilteringStartupFilter.<>c__DisplayClass0_0.<Configure>b__0(IApplicationBuilder app)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2022-05-05 17:25:39.246 -04:00 [INF] User profile is available. Using 'C:\Users\MonPC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-05-05 17:25:43.957 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2022-05-05 17:25:43.960 -04:00 [INF] Hosting environment: Development
2022-05-05 17:25:43.961 -04:00 [INF] Content root path: C:\Users\MonPC\source\repos\allopromo\allopromo.Api
2022-05-05 17:25:44.008 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:44367/api/store/create application/json 170
2022-05-05 17:25:44.007 -04:00 [INF] Request starting HTTP/2.0 GET https://localhost:44367/api/default  
2022-05-05 17:25:44.859 -04:00 [INF] Executing endpoint 'Fallback {*path:nonfile}'
2022-05-05 17:25:44.917 -04:00 [INF] Executed endpoint 'Fallback {*path:nonfile}'
2022-05-05 17:25:44.958 -04:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token: hsdsjhdsjdh
2022-05-05 17:25:44.959 -04:00 [INF] Executing endpoint 'allopromo.Controllers.StoreController.CreateStoreAsync (allopromo.Api)'
2022-05-05 17:25:45.059 -04:00 [INF] Request finished in 1065.1455ms 404 
2022-05-05 17:25:45.384 -04:00 [INF] Route matched with {action = "CreateStore", controller = "Store"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateStoreAsync(allopromo.Core.Application.Dto.StoreDto) on controller allopromo.Controllers.StoreController (allopromo.Api).
2022-05-05 17:25:52.581 -04:00 [INF] Entity Framework Core 5.0.7 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-05-05 17:25:56.992 -04:00 [INF] Executed DbCommand (587ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2022-05-05 17:25:57.321 -04:00 [INF] Executed DbCommand (262ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Cities] ([cityGpsLatitude], [cityGpsLongitude], [cityName], [countryId], [tCountrycountryId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [cityId]
FROM [Cities]
WHERE @@ROWCOUNT = 1 AND [cityId] = scope_identity();
2022-05-05 17:25:57.444 -04:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [StoreCategories] ([storeCategoryName])
VALUES (@p0);
SELECT [storeCategoryId]
FROM [StoreCategories]
WHERE @@ROWCOUNT = 1 AND [storeCategoryId] = scope_identity();
2022-05-05 17:25:57.554 -04:00 [INF] Executed DbCommand (96ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Stores] ([storeId], [CategorystoreCategoryId], [cityId], [storeBecomesInactiveOn], [storeCreatedOn], [storeDescription], [storeName], [userId])
VALUES (@p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2022-05-05 17:26:03.382 -04:00 [INF] Executing ObjectResult, writing value of type 'allopromo.Core.Application.Dto.StoreDto'.
2022-05-05 17:26:03.642 -04:00 [INF] Executed action allopromo.Controllers.StoreController.CreateStoreAsync (allopromo.Api) in 18235.8305ms
2022-05-05 17:26:03.650 -04:00 [INF] Executed endpoint 'allopromo.Controllers.StoreController.CreateStoreAsync (allopromo.Api)'
2022-05-05 17:26:03.677 -04:00 [INF] Request finished in 19692.0901ms 200 application/json; charset=utf-8
