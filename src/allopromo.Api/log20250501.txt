2025-05-01 19:34:57.006 +00:00 [INF] User profile is available. Using 'C:\Users\MonPC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-01 19:35:02.515 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-01 19:35:02.517 +00:00 [INF] Hosting environment: Development
2025-05-01 19:35:02.518 +00:00 [INF] Content root path: C:\Users\MonPC\source\repos\allopromo\src\allopromo.Api
2025-05-01 19:35:02.749 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/index.html  
2025-05-01 19:35:04.110 +00:00 [INF] Request finished in 1377.2143ms 200 text/html;charset=utf-8
2025-05-01 19:35:04.639 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/swagger-ui-standalone-preset.js  
2025-05-01 19:35:04.647 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/swagger-ui.css  
2025-05-01 19:35:04.728 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/swagger-ui-bundle.js  
2025-05-01 19:35:05.547 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-01 19:35:05.548 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-01 19:35:05.566 +00:00 [INF] Request finished in 927.3466ms 200 application/javascript
2025-05-01 19:35:05.566 +00:00 [INF] Request finished in 1045.1674ms 200 text/css
2025-05-01 19:35:05.590 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-05-01 19:35:05.592 +00:00 [INF] Request finished in 863.6418ms 200 application/javascript
2025-05-01 19:35:06.405 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/favicon-16x16.png  
2025-05-01 19:35:06.451 +00:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-05-01 19:35:06.459 +00:00 [INF] Request finished in 54.6625ms 200 image/png
2025-05-01 19:35:07.704 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/v1/swagger.json  
2025-05-01 19:35:08.704 +00:00 [INF] Request finished in 1000.5091ms 200 application/json;charset=utf-8
2025-05-01 19:35:58.675 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/api/v1/Account  
2025-05-01 19:35:58.764 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-01 19:35:59.094 +00:00 [INF] Executing endpoint 'allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api)'
2025-05-01 19:35:59.300 +00:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller allopromo.Api.Controllers.AccountController (allopromo.Api).
2025-05-01 19:36:01.252 +00:00 [INF] Executed action allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api) in 1922.168ms
2025-05-01 19:36:01.489 +00:00 [INF] Executed endpoint 'allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api)'
2025-05-01 19:36:02.839 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'connectionString')
   at Microsoft.EntityFrameworkCore.Utilities.Check.NotEmpty(String value, String parameterName)
   at Microsoft.EntityFrameworkCore.SqlServerDbContextOptionsExtensions.UseSqlServer(DbContextOptionsBuilder optionsBuilder, String connectionString, Action`1 sqlServerOptionsAction)
   at allopromo.Api.Startup.<>c__DisplayClass5_0.<ConfigureServices>b__1(DbContextOptionsBuilder options) in C:\Users\MonPC\source\repos\allopromo\src\allopromo.Api\Startup.cs:line 66
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass1_0`2.<AddDbContext>b__0(IServiceProvider p, DbContextOptionsBuilder b)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.CreateDbContextOptions[TContext](IServiceProvider applicationServiceProvider, Action`2 optionsAction)
   at Microsoft.Extensions.DependencyInjection.EntityFrameworkServiceCollectionExtensions.<>c__DisplayClass17_0`1.<AddCoreServices>b__0(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite singletonCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass1_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngine.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2025-05-01 19:36:03.521 +00:00 [INF] Request finished in 4853.2736ms 500 text/plain
2025-05-01 19:37:47.065 +00:00 [INF] User profile is available. Using 'C:\Users\MonPC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-01 19:37:50.063 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-01 19:37:50.099 +00:00 [INF] Hosting environment: Development
2025-05-01 19:37:50.100 +00:00 [INF] Content root path: C:\Users\MonPC\source\repos\allopromo\src\allopromo.Api
2025-05-01 19:37:50.271 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/index.html  
2025-05-01 19:37:51.220 +00:00 [INF] Request finished in 972.1259ms 200 text/html;charset=utf-8
2025-05-01 19:37:52.683 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/v1/swagger.json  
2025-05-01 19:37:53.661 +00:00 [INF] Request finished in 979.3403ms 200 application/json;charset=utf-8
2025-05-01 19:38:02.876 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/api/v1/Account  
2025-05-01 19:38:02.922 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-01 19:38:03.296 +00:00 [INF] Executing endpoint 'allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api)'
2025-05-01 19:38:03.543 +00:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller allopromo.Api.Controllers.AccountController (allopromo.Api).
2025-05-01 19:38:12.606 +00:00 [INF] Entity Framework Core 5.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2025-05-01 19:38:17.759 +00:00 [INF] Executed DbCommand (583ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[Type], [a].[UserName], [a].[firstName], [a].[isAdmin], [a].[isMerchant], [a].[lastName]
FROM [AspNetUsers] AS [a]
2025-05-01 19:38:18.938 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[Type], [a].[UserName], [a].[firstName], [a].[isAdmin], [a].[isMerchant], [a].[lastName]
FROM [AspNetUsers] AS [a]
2025-05-01 19:38:19.220 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[allopromo.Api.DTOs.UserDto, allopromo.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 19:38:19.334 +00:00 [INF] Executed action allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api) in 15766.8494ms
2025-05-01 19:38:19.340 +00:00 [INF] Executed endpoint 'allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api)'
2025-05-01 19:38:19.392 +00:00 [INF] Request finished in 16516.3251ms 200 application/json; charset=utf-8
2025-05-01 19:38:46.799 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:44306/api/v1/Account/Login application/json 57
2025-05-01 19:38:46.809 +00:00 [INF] CORS policy execution successful.
2025-05-01 19:38:46.825 +00:00 [INF] No CORS policy found for the specified request.
2025-05-01 19:38:46.867 +00:00 [INF] Executing endpoint 'allopromo.Api.Controllers.AccountController.Login (allopromo.Api)'
2025-05-01 19:38:47.054 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(allopromo.Api.DTOs.LoginUserDto) on controller allopromo.Api.Controllers.AccountController (allopromo.Api).
2025-05-01 19:38:51.770 +00:00 [INF] Entity Framework Core 5.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2025-05-01 19:38:52.548 +00:00 [INF] Executed DbCommand (241ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[Type], [a].[UserName], [a].[firstName], [a].[isAdmin], [a].[isMerchant], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-01 19:38:54.398 +00:00 [INF] Executed DbCommand (438ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-01 19:38:55.717 +00:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-01 19:38:58.424 +00:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`3[[allopromo.Api.DTOs.UserDto, allopromo.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 19:38:58.470 +00:00 [INF] Executed action allopromo.Api.Controllers.AccountController.Login (allopromo.Api) in 11414.1529ms
2025-05-01 19:38:58.473 +00:00 [INF] Executed endpoint 'allopromo.Api.Controllers.AccountController.Login (allopromo.Api)'
2025-05-01 19:38:58.478 +00:00 [INF] Request finished in 11712.8395ms 200 application/json; charset=utf-8
2025-05-01 19:40:49.551 +00:00 [INF] User profile is available. Using 'C:\Users\MonPC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-01 19:40:52.472 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-01 19:40:52.476 +00:00 [INF] Hosting environment: Development
2025-05-01 19:40:52.492 +00:00 [INF] Content root path: C:\Users\MonPC\source\repos\allopromo\src\allopromo.Api
2025-05-01 19:40:52.753 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/index.html  
2025-05-01 19:40:54.148 +00:00 [INF] Request finished in 1418.887ms 200 text/html;charset=utf-8
2025-05-01 19:41:02.422 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/v1/swagger.json  
2025-05-01 19:41:03.312 +00:00 [INF] Request finished in 890.9695ms 200 application/json;charset=utf-8
2025-05-01 19:42:40.079 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/api/v1/Account  
2025-05-01 19:42:40.240 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-01 19:42:41.080 +00:00 [INF] Executing endpoint 'allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api)'
2025-05-01 19:42:41.484 +00:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller allopromo.Api.Controllers.AccountController (allopromo.Api).
2025-05-01 19:43:01.372 +00:00 [INF] Entity Framework Core 5.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2025-05-01 19:43:13.103 +00:00 [INF] Executed DbCommand (2,096ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[Type], [a].[UserName], [a].[firstName], [a].[isAdmin], [a].[isMerchant], [a].[lastName]
FROM [AspNetUsers] AS [a]
2025-05-01 19:43:15.306 +00:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[Type], [a].[UserName], [a].[firstName], [a].[isAdmin], [a].[isMerchant], [a].[lastName]
FROM [AspNetUsers] AS [a]
2025-05-01 19:43:15.584 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[allopromo.Api.DTOs.UserDto, allopromo.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 19:43:15.830 +00:00 [INF] Executed action allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api) in 34272.0804ms
2025-05-01 19:43:15.837 +00:00 [INF] Executed endpoint 'allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api)'
2025-05-01 19:43:15.924 +00:00 [INF] Request finished in 35881.9497ms 200 application/json; charset=utf-8
2025-05-01 19:43:20.062 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/api/v1/Account  
2025-05-01 19:43:20.077 +00:00 [INF] Executing endpoint 'allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api)'
2025-05-01 19:43:20.081 +00:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller allopromo.Api.Controllers.AccountController (allopromo.Api).
2025-05-01 19:43:20.965 +00:00 [INF] Entity Framework Core 5.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2025-05-01 19:43:21.197 +00:00 [INF] Executed DbCommand (194ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[Type], [a].[UserName], [a].[firstName], [a].[isAdmin], [a].[isMerchant], [a].[lastName]
FROM [AspNetUsers] AS [a]
2025-05-01 19:43:21.584 +00:00 [INF] Executed DbCommand (376ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[Type], [a].[UserName], [a].[firstName], [a].[isAdmin], [a].[isMerchant], [a].[lastName]
FROM [AspNetUsers] AS [a]
2025-05-01 19:43:21.620 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[allopromo.Api.DTOs.UserDto, allopromo.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 19:43:21.641 +00:00 [INF] Executed action allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api) in 1558.8721ms
2025-05-01 19:43:21.642 +00:00 [INF] Executed endpoint 'allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api)'
2025-05-01 19:43:21.647 +00:00 [INF] Request finished in 1588.2028ms 200 application/json; charset=utf-8
2025-05-01 19:43:57.437 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:44306/api/v1/Account/Login application/json 57
2025-05-01 19:43:57.449 +00:00 [INF] CORS policy execution successful.
2025-05-01 19:43:57.465 +00:00 [INF] No CORS policy found for the specified request.
2025-05-01 19:43:57.526 +00:00 [INF] Executing endpoint 'allopromo.Api.Controllers.AccountController.Login (allopromo.Api)'
2025-05-01 19:43:57.776 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(allopromo.Api.DTOs.LoginUserDto) on controller allopromo.Api.Controllers.AccountController (allopromo.Api).
2025-05-01 19:44:08.998 +00:00 [INF] Entity Framework Core 5.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2025-05-01 19:44:10.745 +00:00 [INF] Executed DbCommand (952ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[Type], [a].[UserName], [a].[firstName], [a].[isAdmin], [a].[isMerchant], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-01 19:44:12.880 +00:00 [INF] Executed DbCommand (148ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-01 19:44:14.675 +00:00 [INF] Executed DbCommand (116ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-01 19:44:14.755 +00:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`3[[allopromo.Api.DTOs.UserDto, allopromo.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 19:44:14.842 +00:00 [INF] Executed action allopromo.Api.Controllers.AccountController.Login (allopromo.Api) in 17065.0113ms
2025-05-01 19:44:14.844 +00:00 [INF] Executed endpoint 'allopromo.Api.Controllers.AccountController.Login (allopromo.Api)'
2025-05-01 19:44:14.852 +00:00 [INF] Request finished in 17509.2864ms 200 application/json; charset=utf-8
2025-05-01 20:26:06.398 +00:00 [INF] User profile is available. Using 'C:\Users\MonPC\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-01 20:26:37.075 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-01 20:26:37.078 +00:00 [INF] Hosting environment: Development
2025-05-01 20:26:37.079 +00:00 [INF] Content root path: C:\Users\MonPC\source\repos\allopromo\src\allopromo.Api
2025-05-01 20:26:38.747 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/index.html  
2025-05-01 20:26:40.903 +00:00 [INF] Request finished in 2172.0953ms 200 text/html;charset=utf-8
2025-05-01 20:26:46.285 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/swagger-ui-standalone-preset.js  
2025-05-01 20:26:46.293 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/swagger-ui.css  
2025-05-01 20:26:46.918 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/favicon-16x16.png  
2025-05-01 20:26:52.267 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/swagger/v1/swagger.json  
2025-05-01 20:26:54.837 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-05-01 20:26:54.837 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-05-01 20:26:54.837 +00:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2025-05-01 20:26:54.844 +00:00 [INF] Request finished in 8553.295ms 0 application/javascript
2025-05-01 20:26:54.885 +00:00 [INF] Request finished in 8545.1449ms 0 text/css
2025-05-01 20:26:54.889 +00:00 [INF] Request finished in 7919.9581ms 0 image/png
2025-05-01 20:27:04.397 +00:00 [INF] Request finished in 12130.1253ms 200 application/json;charset=utf-8
2025-05-01 20:59:46.510 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:44306/api/v1/Account  
2025-05-01 20:59:46.928 +00:00 [WRN] Failed to determine the https port for redirect.
2025-05-01 20:59:49.337 +00:00 [INF] Executing endpoint 'allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api)'
2025-05-01 20:59:50.151 +00:00 [INF] Route matched with {action = "GetUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers() on controller allopromo.Api.Controllers.AccountController (allopromo.Api).
2025-05-01 21:00:00.128 +00:00 [INF] Entity Framework Core 5.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2025-05-01 21:00:07.483 +00:00 [INF] Executed DbCommand (978ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[Type], [a].[UserName], [a].[firstName], [a].[isAdmin], [a].[isMerchant], [a].[lastName]
FROM [AspNetUsers] AS [a]
2025-05-01 21:00:08.445 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[Type], [a].[UserName], [a].[firstName], [a].[isAdmin], [a].[isMerchant], [a].[lastName]
FROM [AspNetUsers] AS [a]
2025-05-01 21:00:08.616 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[allopromo.Api.DTOs.UserDto, allopromo.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-01 21:00:08.835 +00:00 [INF] Executed action allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api) in 18610.3948ms
2025-05-01 21:00:08.846 +00:00 [INF] Executed endpoint 'allopromo.Api.Controllers.AccountController.GetUsers (allopromo.Api)'
2025-05-01 21:00:08.934 +00:00 [INF] Request finished in 22530.2725ms 200 application/json; charset=utf-8
2025-05-01 21:01:16.540 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:44306/api/v1/Account/Login application/json 60
2025-05-01 21:01:16.569 +00:00 [INF] CORS policy execution successful.
2025-05-01 21:01:16.586 +00:00 [INF] No CORS policy found for the specified request.
2025-05-01 21:01:16.636 +00:00 [INF] Executing endpoint 'allopromo.Api.Controllers.AccountController.Login (allopromo.Api)'
2025-05-01 21:01:16.739 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(allopromo.Api.DTOs.LoginUserDto) on controller allopromo.Api.Controllers.AccountController (allopromo.Api).
2025-05-01 21:02:02.756 +00:00 [INF] Entity Framework Core 5.0.7 initialized 'ApplicationDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2025-05-01 21:02:04.829 +00:00 [INF] Executed DbCommand (517ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[Type], [a].[UserName], [a].[firstName], [a].[isAdmin], [a].[isMerchant], [a].[lastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-01 21:02:06.537 +00:00 [INF] Executed DbCommand (138ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-01 21:02:08.088 +00:00 [INF] Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-01 21:02:08.264 +00:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`3[[allopromo.Api.DTOs.UserDto, allopromo.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-01 21:02:08.558 +00:00 [INF] Executed action allopromo.Api.Controllers.AccountController.Login (allopromo.Api) in 51818.33ms
2025-05-01 21:02:08.567 +00:00 [INF] Executed endpoint 'allopromo.Api.Controllers.AccountController.Login (allopromo.Api)'
2025-05-01 21:02:08.646 +00:00 [INF] Request finished in 52101.5265ms 200 application/json; charset=utf-8
2025-05-01 21:02:48.514 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:44306/api/v1/Account/Login application/json 58
2025-05-01 21:02:48.773 +00:00 [INF] CORS policy execution successful.
2025-05-01 21:02:48.794 +00:00 [INF] No CORS policy found for the specified request.
2025-05-01 21:02:49.043 +00:00 [INF] Executing endpoint 'allopromo.Api.Controllers.AccountController.Login (allopromo.Api)'
2025-05-01 21:02:49.221 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(allopromo.Api.DTOs.LoginUserDto) on controller allopromo.Api.Controllers.AccountController (allopromo.Api).
2025-05-01 21:02:50.667 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-01 21:02:50.734 +00:00 [INF] Executed action allopromo.Api.Controllers.AccountController.Login (allopromo.Api) in 1504.3398ms
2025-05-01 21:02:50.735 +00:00 [INF] Executed endpoint 'allopromo.Api.Controllers.AccountController.Login (allopromo.Api)'
2025-05-01 21:02:50.778 +00:00 [INF] Request finished in 2308.297ms 400 application/problem+json; charset=utf-8
2025-05-01 21:03:02.457 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:44306/api/v1/Account/Login application/json 58
2025-05-01 21:03:02.460 +00:00 [INF] CORS policy execution successful.
2025-05-01 21:03:02.461 +00:00 [INF] No CORS policy found for the specified request.
2025-05-01 21:03:02.466 +00:00 [INF] Executing endpoint 'allopromo.Api.Controllers.AccountController.Login (allopromo.Api)'
2025-05-01 21:03:02.470 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(allopromo.Api.DTOs.LoginUserDto) on controller allopromo.Api.Controllers.AccountController (allopromo.Api).
2025-05-01 21:03:03.486 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-01 21:03:03.491 +00:00 [INF] Executed action allopromo.Api.Controllers.AccountController.Login (allopromo.Api) in 1020.2558ms
2025-05-01 21:03:03.495 +00:00 [INF] Executed endpoint 'allopromo.Api.Controllers.AccountController.Login (allopromo.Api)'
2025-05-01 21:03:03.505 +00:00 [INF] Request finished in 1050.1774ms 400 application/problem+json; charset=utf-8
